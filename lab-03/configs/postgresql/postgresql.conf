# CONNECTIONS AND AUTHENTICATION
listen_addresses = 'localhost'   # only listen locally (use '*' to allow remote)
port = 5432                      # default port

# RESOURCE USAGE
max_connections = 100            # adjust as needed

# WRITE AHEAD LOG
wal_level = replica              # or 'replica' if using replication
fsync = on
synchronous_commit = on
full_page_writes = on

# RUNTIME STATISTICS
logging_collector = on
log_directory = 'log'
log_filename = 'postgresql.log'
log_statement = 'none'           # change to 'all' or 'mod' for debugging

# FILE LOCATIONS
data_directory = '{{ postgresql_data_dir }}/15/main'   # adjust as needed
hba_file = '/etc/postgresql/15/main/pg_hba.conf'
ident_file = '/etc/postgresql/15/main/pg_ident.conf'

# MEMORY USAGE (adjust for your system)
shared_buffers = 128MB
work_mem = 4MB

# CLIENT CONNECTION DEFAULTS
client_encoding = utf8
timezone = 'UTC'

# ERROR REPORTING AND LOGGING
log_min_messages = warning
log_min_error_statement = error
